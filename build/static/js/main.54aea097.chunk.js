(this.webpackJsonptenzor=this.webpackJsonptenzor||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/avatar1.688a6031.png"},function(e,t,a){e.exports=a.p+"static/media/avatar8.4f53004c.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAOVBMVEUAAAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD////u2mBXAAAAEXRSTlMAAAc8VCiI8v3fV+tZWFrwh8guxVgAAAABYktHRBJ7vGwAAAAAB3RJTUUH4wodDikCFBGHogAAAUFJREFUWMPt2MsSgyAMBVDFJ775/58tndbWqCDcpB0XZNVNzsShZEiyLMVNI3+HWHaeq6KsQNGmVWWhKKjqptUdJNqkTrdNrQhYNMaYfgBEmzL0NrkpCFi2BhNXz7QlASttIPHjGV3RQ+l6RPx6fbc75XwExI037tIg0eNBotcDxAsvWrz0IsUAL0oM8iLEQC9YDPYCxQgvSIzyAsRI71KM9i5EwPOKkOcRQc8pwp5DZHinIss7EZneQWR7R5Hr7UW+R8RpEvC2BzHP2NPCXaNEfbRGifpW8fW5ZpbwnuC0gpNQgZKfTDyZQxb922zu2zBAL1K3R37iV3l7f6E3rs/jiod+xRRP+h9LPO2nDNHRn2HR2e/TPJPmGdRL80yaZ3Dvr/PMDxZB4qsq8WWa+LpPLdyF5EIXkuIrU+mlbopbxQN8p0JzZJ8cpQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMC0yOVQxNDo0MTowMiswMDowMC0AOiUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTAtMjlUMTQ6NDE6MDIrMDA6MDBcXYKZAAAAAElFTkSuQmCC"},,,function(e,t,a){e.exports=a.p+"static/media/avatar2.2abd794b.png"},function(e,t,a){e.exports=a.p+"static/media/avatar3.c596eaba.png"},function(e,t,a){e.exports=a.p+"static/media/avatar4.36da44c2.png"},function(e,t,a){e.exports=a.p+"static/media/avatar5.26a02cf8.png"},function(e,t,a){e.exports=a.p+"static/media/avatar6.139b6f0f.png"},function(e,t,a){e.exports=a.p+"static/media/avatar7.c3e59e0f.png"},function(e,t,a){e.exports=a.p+"static/media/game_over.820810c5.gif"},function(e,t,a){e.exports=a.p+"static/media/3.ea23ec05.wav"},function(e,t,a){e.exports=a.p+"static/media/2.79ca65d3.wav"},function(e,t,a){e.exports=a.p+"static/media/1.214a932b.wav"},function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),s=a(12),i=a.n(s),c=a(5),o=a(6),l=a(1),m=a(7),u=a(3),p=a(2),d=a(4),h=(a(28),[{num:1,size:4},{num:2,size:3},{num:3,size:3},{num:4,size:2},{num:5,size:2},{num:6,size:2},{num:7,size:1},{num:8,size:1},{num:9,size:1},{num:10,size:1}]),v=a(10),g=a.n(v),f=["\u0410","\u0411","\u0412","\u0413","\u0414","\u0415","\u0416","\u0417","\u0418","\u041a"],A=[1,2,3,4,5,6,7,8,9,10],y=Array.from({length:10},(function(e,t){return{x:-1,y:t}})),E=Array.from({length:10},(function(e,t){return{x:t,y:-1}})),b=[],x=0;x<10;x++)for(var N=0;N<10;N++)b.push({x:x,y:N});function _(e){var t=e.ships.map((function(e,t){var a=30*e.x,n=30*e.y,s="down"==e.dir?30*e.size:30,i="right"==e.dir?30*e.size:30;return r.a.createElement("div",{className:"ship",style:{left:a,top:n,height:s,width:i}})})),a=e.player.help_points,n=e.player.fail_points,s=e.player.last_point,i=[],o=e.player.wonded_ships;for(var l in o)i.push.apply(i,Object(c.a)(o[l]));var m=[];return e.player.killed_ships.forEach((function(e,t){m.push.apply(m,Object(c.a)(e))})),r.a.createElement("div",{className:"matrix"},r.a.createElement("div",{className:"axisX"},y.map((function(e,t){return r.a.createElement("div",{className:"cellX",style:{left:30*e.x,top:30*e.y}},f[t])}))),r.a.createElement("div",{className:"axisY"},E.map((function(e,t){return r.a.createElement("div",{className:"cellY",style:{left:30*e.x,top:30*e.y}},A[t])}))),r.a.createElement("div",{className:"grid"},b.map((function(t,a){return r.a.createElement("div",{className:"cell",style:{left:30*t.x,top:30*t.y},"data-x":t.x,"data-y":t.y,onClick:e.click_handler})}))),r.a.createElement("div",{className:"ships"},t.map((function(e,t){return e}))),r.a.createElement("div",{className:"help"},a.map((function(e,t){return r.a.createElement("div",{className:"help_point point",style:{left:30*e.x,top:30*e.y}})}))),r.a.createElement("div",{className:"fail"},n.map((function(e,t){return r.a.createElement("div",{className:"fail_point point",style:{left:30*e.x,top:30*e.y}},r.a.createElement("div",{className:"fail_icon"}))}))),r.a.createElement("div",{className:"wonded"},i.map((function(e,t){return r.a.createElement("div",{className:"wonded_point point",style:{left:30*e.x,top:30*e.y}},r.a.createElement("img",{src:g.a,alt:"",className:"wonded_icon"}))}))),r.a.createElement("div",{className:"killed"},m.map((function(e,t){return r.a.createElement("div",{className:"killed_point point",style:{left:30*e.x,top:30*e.y}},r.a.createElement("img",{src:g.a,alt:"",className:"killed_icon"}))}))),r.a.createElement("div",{className:"last"},"{}"!=JSON.stringify(s)?r.a.createElement("div",{className:"last_point point",style:{left:30*s.x,top:30*s.y}}):null))}function S(e){return r.a.createElement("div",{className:"set-names"},r.a.createElement("h1",null,"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"),r.a.createElement("div",{className:"set-names-body"},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"\u0412\u0412\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f"),r.a.createElement("input",{type:"text",player:"human",onChange:e.setName})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"\u0412\u0412\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430"),r.a.createElement("input",{type:"text",player:"computer",onChange:e.setName}))),r.a.createElement("button",{onClick:e.next},"\u0414\u0430\u043b\u0435\u0435"))}function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).changeMode=function(e){var t=e.target.value;a.setState({mode:t}),a.props.regenerateShips(t)},a.moveStart=function(e){var t=e.target,n=t.closest,r=document.querySelector(".modal-setting"),s=Number(t.getAttribute("num")),i=Number(t.getAttribute("size"));a.shiftX=e.clientX-t.getBoundingClientRect().left,a.shiftY=e.clientY-t.getBoundingClientRect().top,a.current={parentNode:n},r.append(t),a.setState({num:s,size:i}),a.moveXY(e.pageX,e.pageY),document.addEventListener("mousemove",a.move)},a.moveXY=function(e,t){var n=e-a.shiftX,r=t-a.shiftY;a.setState({x:n,y:r})},a.move=function(e){a.moveXY(e.pageX,e.pageY)},a.moveEnd=function(e){document.removeEventListener("mousemove",a.move)},a.check=function(e){var t=a.state,n=t.num,r=t.size,s=e.target;s.hidden=!0;var i=e.pageX-a.shiftX,c=e.pageY-a.shiftY,l=document.elementFromPoint(i,c);if(s.hidden=!1,l&&"cell"==l.className){var m,u=a.searchShip(n);1e3!=u&&(m=a.tempShips.splice(u,1));var p={num:n,size:r,dir:"right",x:l.getAttribute("data-x"),y:l.getAttribute("data-y")},d=a.props.isOverlapShips(p,a.tempShips);return a.tempShips.push(m),a.current=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.current,{newShip:p,index:u}),!d}return!1},a.searchShip=function(e){var t=1e3;return a.tempShips.some((function(a,n){return!!(a.num=e)&&(t=n,!0)})),t},a.render=function(){var e=a.state,t=e.mode,n=e.x,s=e.y,i=(e.color,a.current.currentNum);return console.log(i,n,s),r.a.createElement("div",{className:"set-ships"},r.a.createElement("h1",null,"\u0420\u0430\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043a\u043e\u0440\u0430\u0431\u043b\u0435\u0439"),r.a.createElement("div",{className:"set-ships-body"},r.a.createElement("div",{className:"left-part"},r.a.createElement("div",{className:"some-container"},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"radio1"},"\u0440\u0430\u0441\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e"),r.a.createElement("input",{type:"radio",id:"radio1",value:"random",checked:"random"==t,onChange:a.changeMode})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:"radio2"},"\u0440\u0430\u0441\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u043c\u0443"),r.a.createElement("input",{type:"radio",id:"radio2",value:"manually",checked:"manually"==t,onChange:a.changeMode}))),r.a.createElement(_,{ships:a.props.ships,player:a.props.player,click_handler:null})),"manually"==t?r.a.createElement("div",{className:"right-part"},r.a.createElement("p",{className:"ship-hint"},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u043a\u043e\u0440\u0430\u0431\u043b\u0438 \u043c\u044b\u0448\u043a\u043e\u0439 \u0432 \u0438\u0433\u0440\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435.",r.a.createElement("br",null),"\u0414\u043b\u044f \u043f\u043e\u0432\u043e\u0440\u043e\u0442\u0430 \u0444\u0438\u0433\u0443\u0440\u044b \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443 \u043c\u044b\u0448\u0438."),r.a.createElement("div",{className:"ship-container"},h.map((function(e){return r.a.createElement("div",{className:"ship-backface",style:{width:30*e.size,height:30}},i==e.num?r.a.createElement("div",{num:e.num,size:e.size,className:"ship-draggable",style:{width:30*e.size,left:n,top:s},onMouseDown:a.moveStart,onMouseUp:a.moveEnd,onDragStart:function(e){return!1}}):r.a.createElement("div",{num:e.num,size:e.size,className:"ship-draggable",style:{width:30*e.size},onMouseDown:a.moveStart,onMouseUp:a.moveEnd,onDragStart:function(e){return!1}}))})))):null,r.a.createElement("div",{className:"draggables"},a.tempShips.map((function(e){return i==e.num?r.a.createElement("div",{num:e.num,size:e.size,className:"ship-draggable",style:{width:30*e.size,left:n,top:s},onMouseDown:a.moveStart,onMouseUp:a.moveEnd,onDragStart:function(e){return!1}}):r.a.createElement("div",{num:e.num,size:e.size,className:"ship-draggable",style:{width:30*e.size},onMouseDown:a.moveStart,onMouseUp:a.moveEnd,onDragStart:function(e){return!1}})})))),r.a.createElement("button",{onClick:a.props.next},"\u0418\u0433\u0440\u0430\u0442\u044c"))},a.state={mode:"manually",num:null,size:null,x:0,y:0,color:""},a.current={},a.tempShips=[],a}return Object(d.a)(t,e),t}(r.a.Component),D=a(8),k=a.n(D),j=a(13),P=a.n(j),z=a(14),B=a.n(z),M=a(15),C=a.n(M),R=a(16),F=a.n(R),I=a(17),W=a.n(I),U=a(18),X=a.n(U),Y=a(9),Q=a.n(Y),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).set=function(e){var t=Number(e.target.getAttribute("num")),n=e.target.getAttribute("player"),r=e.target.src;"human"==n?(a.setState({selected_human:t}),a.props.setAvatar(r,n)):(a.setState({selected_computer:t}),a.props.setAvatar(r,n))},a.render=function(){var e=a.state,t=e.selected_human,n=e.selected_computer;return r.a.createElement("div",{className:"set-avatar"},r.a.createElement("h1",null,"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"),r.a.createElement("div",{className:"set-avatar-body"},r.a.createElement("div",{className:"my-avatar"},r.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443 \u0434\u043b\u044f \u0441\u0435\u0431\u044f"),r.a.createElement("div",{className:"avatar-container"},a.img_human.map((function(e,n){return r.a.createElement("img",{src:e,num:n+1,player:"human",className:t==n+1?"avatar-selected":"",onClick:a.set})})))),r.a.createElement("div",{className:"enemy-avatar"},r.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443 \u0434\u043b\u044f \u043d\u0430\u043f\u0430\u0440\u043d\u0438\u043a\u0430"),r.a.createElement("div",{className:"avatar-container"},a.img_computer.map((function(e,t){return r.a.createElement("img",{src:e,num:t+1,player:"computer",className:n==t+1?"avatar-selected":"",onClick:a.set})}))))),r.a.createElement("button",{onClick:a.props.next},"\u0414\u0430\u043b\u0435\u0435"))},a.state={selected_human:1,selected_computer:1},a.img_human=[k.a,P.a,B.a,C.a],a.img_computer=[F.a,W.a,X.a,Q.a],a}return Object(d.a)(t,e),t}(r.a.Component),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).next=function(){var e=a.state,t=e.active,n=e.page_count;t++,a.setState({active:t}),t>n&&a.props.initGame()},a.render=function(){var e=a.state.active;return r.a.createElement("div",{className:"settings"},1==e?r.a.createElement(S,{next:a.next,setName:a.props.setName}):null,2==e?r.a.createElement(T,{next:a.next,setAvatar:a.props.setAvatar}):null,3==e?r.a.createElement(O,Object.assign({next:a.next},a.props)):null)},a.state={active:2,page_count:1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}}]),t}(r.a.Component),G=a(19),J=a.n(G),Z=a(20),K=a.n(Z),H=a(21),L=a.n(H),q=a(22),$=a.n(q);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={computer:"\u041c\u043e\u0439 \u0445\u043e\u0434, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...",human:"\u0416\u0434\u0443 \u0432\u0430\u0448\u0435\u0433\u043e \u0445\u043e\u0434\u0430...",end:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u043a\u043e\u0440\u0430\u0431\u043b\u0438"},ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).updateState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"human";"human"==t?a.setState({human:te({},a.state.human,{},e)}):a.setState({computer:te({},a.state.computer,{},e)})},a.changeSound=function(){a.state.game_sound?(a.setState({game_sound:!1}),a.soundFailed.volume=0,a.soundWonded.volume=0,a.soundKilled.volume=0):(a.setState({game_sound:!0}),a.soundFailed.volume=1,a.soundWonded.volume=1,a.soundKilled.volume=1)},a.randAB=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},a.setName=function(e){var t=e.target.getAttribute("player"),n=e.target.value;a.updateState({name:n},t)},a.setAvatar=function(e,t){console.log(e,t),a.updateState({avatar:e},t)},a.regenerateShips=function(e){"random"==e?a.generateShips():a.updateState({ships:[]},"human")},a.initGame=function(){a.generateShips("computer"),a.randAB(0,1)?a.setState({game_start:!0,game_active:"human",game_message:ae.human}):(a.setState({game_start:!0,game_active:"computer",game_message:ae.computer}),setTimeout((function(e){return a.computerPlaying()}),2e3))},a.generateShips=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"human",n=[];h.forEach((function(t){do{e=a.getCoodinatesForShip(t)}while(a.isOverlapShips(e,n));n.push(e)})),a.updateState({ships:n},t)},a.getCoodinatesForShip=function(e){var t,n,r=a.randAB(0,1),s=e.size;return r?(t=a.randAB(0,9),n=a.randAB(0,10-s)):(t=a.randAB(0,10-s),n=a.randAB(0,9)),te({},e,{x:t,y:n,dir:r?"down":"right"})},a.isOverlapShips=function(e,t){if(!t.length)return!1;var n=e.x,r=e.y,s=e.size,i=e.dir;return t.some((function(e){return!!a.isPointInBorders(n,r,e)||(!("down"!=i||!a.isPointInBorders(n,r+s-1,e))||(!("right"!=i||!a.isPointInBorders(n+s-1,r,e))||(n<0||r<0||(n-s+1>9||r+s-1>9))))}))},a.isPointInBorders=function(e,t,a){var n=a.x,r=a.y,s=a.size,i=a.dir;return e>=n-1&&e<=("down"==i?n+1:n+s)&&t>=r-1&&t<=("down"==i?r+s:r+1)},a.humanPlaying=function(e){if("human"==a.state.game_active){var t=Number(e.target.getAttribute("data-x")),n=Number(e.target.getAttribute("data-y"));a.playing("human",t,n)}else a.setState()},a.computerPlaying=function(){var e,t,n=a.state.computer,r=n.trash,s=n.last_success;do{if(s.length)if(1==s.length){e=s[0].x,t=s[0].y;var i=a.randAB(1,4);1==i&&t--,2==i&&t++,3==i&&e--,4==i&&e++}else if(s.length>1)if(s[0].x==s[1].x){e=s[0].x;var c=a.randAB(0,s.length-1),o=a.randAB(0,1);o=o?1:-1,t=s[c].y+o}else{t=s[0].y;var l=a.randAB(0,s.length-1),m=a.randAB(0,1);m=m?1:-1,e=s[l].x+m}else console.log("\u041d\u0415\u041f\u0420\u0415\u0414\u0412\u0418\u0414\u0415\u041d\u041d\u0410\u042f \u0421\u0418\u0422\u0423\u0410\u0426\u0418\u042f!!!!!",s);else e=a.randAB(0,9),t=a.randAB(0,9)}while(!a.checkPoint(e,t));console.log("\u043e\u0447\u0435\u0440\u0435\u0434\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0430\u044f \u043e\u0442\u0431\u043e\u0440",e,t),r.push({x:e,y:t}),a.updateState({trash:r},"computer"),a.playing("computer",e,t)},a.checkPoint=function(e,t){var n=a.state.computer,r=n.trash,s=n.help_points;return r.push.apply(r,Object(c.a)(s)),a.updateState({trash:r},"computer"),console.log("\u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b\u0430\u0441\u044c \u0442\u043e\u0447\u043a\u0430",e,t),!(e<0||e>9||t<0||t>9)&&!r.some((function(a){return e==a.x&&t==a.y}))},a.playing=function(e,t,n){var r="human"==e?"computer":"human",s=a.state[r].ships,i=a.state[e],o=i.fail_points,l=i.help_points,m=i.killed_ships,u=i.score,p=i.wonded_ships,d=i.last_success,h={x:t,y:n};s.some((function(s){if(a.isPointInShips(t,n,s)){p["key"+s.num]?p["key"+s.num].push({x:t,y:n}):p["key"+s.num]=[{x:t,y:n}];var i=p["key"+s.num];return i.length==s.size?(u++,m.push(i),i.forEach((function(e){var t,n=a.getHelpPoints(s);(t=l).push.apply(t,Object(c.a)(n)),l=l.filter((function(e){return e.x>=0&&e.x<=9&&e.y>=0&&e.y<=9}))})),delete p["key"+s],a.soundKilled.play(),a.updateState({wonded_ships:p,killed_ships:m,help_points:l,last_point:h,score:u},e),10==u?(a.setState({game_active:"none",game_message:ae.end}),setTimeout((function(t){return a.setState({game_winner:e})}),1e4)):"human"==r&&(a.updateState({last_success:[]},e),setTimeout((function(e){return a.computerPlaying()}),2e3))):(l.push({x:t-1,y:n-1},{x:t+1,y:n+1},{x:t-1,y:n+1},{x:t+1,y:n-1}),l=l.filter((function(e){return e.x>=0&&e.x<=9&&e.y>=0&&e.y<=9})),a.soundWonded.play(),a.updateState({wonded_ships:p,help_points:l,last_point:h},e),"human"==r&&(d.push(h),a.updateState({last_success:d},e),setTimeout((function(e){return a.computerPlaying()}),2e3))),!0}return!1}))||(a.soundFailed.play(),o.push({x:t,y:n}),a.updateState({fail_points:o,last_point:h},e),a.setState({game_message:ae[r],game_active:r}),"computer"==r&&setTimeout((function(e){return a.computerPlaying()}),2e3))},a.isPointInShips=function(e,t,a){var n,r,s,i,c=a.x,o=a.y,l=a.size;return"down"==a.dir?(n=c,r=c,s=o,i=o+l-1):(n=c,r=c+l-1,s=o,i=o),e>=n&&e<=r&&t>=s&&t<=i},a.getHelpPoints=function(e){var t=e.x,a=e.y,n=e.dir,r=e.size,s=[],i=[];if("right"==n)for(var c=0;c<r;c++)s.push({x:t,y:a}),t++;else for(var o=0;o<r;o++)s.push({x:t,y:a}),a++;s.forEach((function(e){var t=e.x,a=e.y;i.push({x:t-1,y:a-1},{x:t+1,y:a+1},{x:t,y:a-1},{x:t,y:a+1},{x:t-1,y:a},{x:t+1,y:a},{x:t-1,y:a+1},{x:t+1,y:a-1})}));var l=new Set(i.map((function(e){return JSON.stringify(e)})));return Array.from(l).map((function(e){return JSON.parse(e)}))},a.state={human:{name:"\u0412\u044b",avatar:k.a,ships:[],fail_points:[],help_points:[],wonded_ships:{},killed_ships:[],last_point:{},score:0},computer:{name:"\u041d\u0430\u043f\u0430\u0440\u043d\u0438\u043a",avatar:Q.a,ships:[],fail_points:[],help_points:[],wonded_ships:{},killed_ships:[],last_point:{},score:0,trash:[],last_success:[]},game_start:!1,game_active:"",game_message:"",game_winner:"",game_sound:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.soundFailed=new Audio(K.a),this.soundWonded=new Audio(L.a),this.soundKilled=new Audio($.a),this.generateShips()}},{key:"render",value:function(){var e=this.state,t=this.state.human,a=this.state.computer;return r.a.createElement("div",null,e.game_start?null:r.a.createElement("div",{className:"modal modal-setting"},r.a.createElement(V,Object.assign({},this,{ships:e.human.ships,player:t}))),e.game_winner?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"game_winner"},r.a.createElement("div",null,r.a.createElement("img",{src:J.a})),"human"==e.game_winner?"\u0412\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438! \u0423\u0440\u0430! :)":"\u0412\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438 :(")):null,r.a.createElement("div",{className:"game-container"},r.a.createElement("header",{className:"header"},r.a.createElement("div",null,"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"),r.a.createElement("div",{className:"sound-bar",onClick:this.changeSound},"\u0437\u0432\u0443\u043a: "+(e.game_sound?"\u0435\u0441\u0442\u044c":"\u043d\u0435\u0442")),r.a.createElement("div",{class:"score-bar"},"\u0441\u0447\u0435\u0442: "+e.computer.score+" : "+e.human.score),r.a.createElement("input",{type:"text",className:"message-bar",value:e.game_message,readOnly:!0})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"left-content"},"human"==e.game_active?r.a.createElement("div",{className:"left-mask"}):null,r.a.createElement("div",{className:"avatar"},r.a.createElement("a",{href:"https://pngtree.com/so/avatar",target:"_blank"},r.a.createElement("img",{src:t.avatar})),r.a.createElement("div",{className:"avatar-text"},t.name+" (\u0432\u0430\u0448\u0435 \u043f\u043e\u043b\u0435)")),r.a.createElement(_,{ships:e.human.ships,player:a,click_handler:null})),r.a.createElement("div",{className:"right-content"},"computer"==e.game_active?r.a.createElement("div",{className:"right-mask"}):null,r.a.createElement("div",{className:"avatar"},r.a.createElement("a",{href:"https://pngtree.com/so/avatar",target:"_blank"},r.a.createElement("img",{src:a.avatar})),r.a.createElement("div",{className:"avatar-text"},a.name+" (\u043f\u043e\u043b\u0435 \u043d\u0430\u043f\u0430\u0440\u043d\u0438\u043a\u0430)"," ")),r.a.createElement(_,{ships:"none"==e.game_active?a.ships:[],player:t,click_handler:this.humanPlaying})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[23,1,2]]]);
//# sourceMappingURL=main.54aea097.chunk.js.map