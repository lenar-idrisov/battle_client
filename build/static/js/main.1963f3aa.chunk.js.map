{"version":3,"sources":["img/cross.png","img/avatar2.png","img/winner.png","img/avatar1.png","sound/3.wav","sound/2.wav","sound/1.wav","components/Matrix.js","components/Scheme.js","components/Settings.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","num","size","xSymbols","ySymbols","xCoordinates","Array","from","length","el","i","x","y","yCoordinates","matrix","j","push","Matrix","props","ships","map","ship","left","top","height","dir","width","className","style","wonded_ships","player","forEach","e","ship_part","killed_ships","last_point","cell","data-x","data-y","onClick","click_handler","help_points","fail_points","src","Cross","alt","JSON","stringify","Settings","next","init_game","render","state","first_page","type","name","onChange","set_names","second_page","htmlFor","id","checked","generate_ships","React","Component","message","computer","human","App","updateState","data","setState","changeSound","game_sound","randAB","min","max","Math","ceil","floor","random","generateShips","newShip","Scheme","getCoodinatesForShip","isOverlapShips","shipSize","isPointInBorders","xTest","yTest","some","setNames","event","target","value","setShips","initGame","game_start","game_active","game_message","setTimeout","_","computerPlaying","playing","wonded","enemy","score","last_success","isPointInShips","wonded_num","getWondedShipNum","help","getHelpPoints","filter","splice","soundKilled","play","game_winner","soundWonded","soundFailed","ship_mass","uniq","Set","parse","humanPlaying","Number","getAttribute","checkPoint","trash","console","log","point","randomPoint","randomDel","right","bottom","shipNum","wondedNum","this","Audio","SoundFailed","SoundWonded","SoundKilled","set_ships","href","class","Win","readOnly","Avatar1","Avatar2","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1963f3aa.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAOVBMVEUAAAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD/AAD////u2mBXAAAAEXRSTlMAAAc8VCiI8v3fV+tZWFrwh8guxVgAAAABYktHRBJ7vGwAAAAAB3RJTUUH4wodDikCFBGHogAAAUFJREFUWMPt2MsSgyAMBVDFJ775/58tndbWqCDcpB0XZNVNzsShZEiyLMVNI3+HWHaeq6KsQNGmVWWhKKjqptUdJNqkTrdNrQhYNMaYfgBEmzL0NrkpCFi2BhNXz7QlASttIPHjGV3RQ+l6RPx6fbc75XwExI037tIg0eNBotcDxAsvWrz0IsUAL0oM8iLEQC9YDPYCxQgvSIzyAsRI71KM9i5EwPOKkOcRQc8pwp5DZHinIss7EZneQWR7R5Hr7UW+R8RpEvC2BzHP2NPCXaNEfbRGifpW8fW5ZpbwnuC0gpNQgZKfTDyZQxb922zu2zBAL1K3R37iV3l7f6E3rs/jiod+xRRP+h9LPO2nDNHRn2HR2e/TPJPmGdRL80yaZ3Dvr/PMDxZB4qsq8WWa+LpPLdyF5EIXkuIrU+mlbopbxQN8p0JzZJ8cpQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMC0yOVQxNDo0MTowMiswMDowMC0AOiUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTAtMjlUMTQ6NDE6MDIrMDA6MDBcXYKZAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/avatar2.26a02cf8.png\";","module.exports = __webpack_public_path__ + \"static/media/winner.76846a14.png\";","module.exports = __webpack_public_path__ + \"static/media/avatar1.688a6031.png\";","module.exports = __webpack_public_path__ + \"static/media/3.5bb0a8d9.wav\";","module.exports = __webpack_public_path__ + \"static/media/2.79ca65d3.wav\";","module.exports = __webpack_public_path__ + \"static/media/1.214a932b.wav\";","import React from 'react';\nimport Cross from '../img/cross.png';\n// символы на оси х и у\nconst xSymbols = ['А','Б','В','Г','Д','Е','Ж','З','И','К'];\nconst ySymbols = [1,2,3,4,5,6,7,8,9,10];\n\n// координаты символов на оси х и у\nconst xCoordinates = Array.from({length:10}, (el,i) =>({x: -1, y: i}));\nconst yCoordinates = Array.from({length:10}, (el,i) =>({x: i, y: -1}));\n\n// достка с клетками 10*10\nlet matrix = [];\nfor (let i=0;i<10;i++){\n    for(let j=0;j<10;j++){\n        matrix.push({x: i, y: j});\n    }\n\n}\nexport default function Matrix(props) {\n    // размер 1 клетки\n    let scale = 30;\n    // личные корабли\n    let ships = props.ships.map((ship, i) =>{\n        let left = ship.x*scale;\n        let top =  ship.y*scale;\n        let height = ship.dir == 'down' ? scale*ship.size : scale;\n        let width = ship.dir == 'right' ? scale*ship.size : scale;\n        return (\n            <div className=\"ship\" style={{left,top,height,width}}></div>\n        )\n    })\n    let wonded_ships = [];\n    props.player.wonded_ships.forEach((e, i) => {\n        wonded_ships.push(...e.ship_part)\n    })\n    let killed_ships = [];\n    props.player.killed_ships.forEach((e, i) => {\n        killed_ships.push(...e)\n    })\n    let last_point = props.player.last_point;\n    return (\n        <div className=\"matrix\">\n            <div className=\"axisX\">\n                {xCoordinates.map((cell, i) =>\n                    <div className=\"cellX\" style={{ left: cell.x*scale, top: cell.y * scale }}>{xSymbols[i]}</div>\n                )}\n            </div>\n            <div className=\"axisY\">\n                {yCoordinates.map((cell, i) =>\n                    <div className=\"cellY\" style={{ left: cell.x*scale, top: cell.y * scale }}>{ySymbols[i]}</div>\n                )}\n            </div>\n            <div className=\"grid\">\n                {matrix.map((cell, i) =>\n                    <div className=\"cell\"\n                        style={{ left: cell.x * scale, top: cell.y * scale }}\n                        data-x={cell.x}\n                        data-y={cell.y}\n                        onClick={props.click_handler}>\n                    </div>\n                )}\n            </div>\n            <div className=\"ship-container\">\n                {ships.map((ship, i) => ship)}\n            </div>\n\n            <div className=\"help\">\n                {props.player.help_points.map((cell, i) =>\n                    <div className=\"help_point point\" style={{ left: cell.x * scale, top: cell.y * scale }}>\n                    </div>\n                )}\n            </div>\n            <div className=\"fail\">\n                {props.player.fail_points.map((cell, i) =>\n                    <div className=\"fail_point point\" style={{ left: cell.x * scale, top: cell.y * scale }}>\n                        <div className=\"fail_icon\"></div>\n                    </div>\n                )}\n            </div>\n            <div className=\"wonded\">\n                {wonded_ships.map((cell, i) =>\n                    <div className=\"wonded_point point\" style={{ left: cell.x * scale, top: cell.y * scale }}>\n                        <img src={Cross} alt=\"\" className=\"wonded_icon\" />\n                    </div>\n                )}\n            </div>\n            <div className=\"killed\">\n                {killed_ships.map((cell, i) =>\n                    <div className=\"killed_point point\" style={{ left: cell.x * scale, top: cell.y * scale }}>\n                        <img src={Cross} alt=\"\" className=\"killed_icon\"/>\n                    </div>\n                )}\n            </div>\n            <div className=\"last\">\n                {JSON.stringify(last_point) != \"{}\" ?\n                    (<div className=\"last_point point\" style={{ left: last_point.x * scale, top: last_point.y * scale }}>\n                    </div>) : null}\n            </div>\n        </div>\n    );\n}","// все виды кораблей(однопалубные, двухпалубные, ...)\r\nexport default [\r\n    {\r\n        num: 1,\r\n        size: 1,\r\n    },\r\n    {\r\n        num: 2,\r\n        size: 1,\r\n    },\r\n    {\r\n        num: 3,\r\n        size: 1,\r\n    },\r\n    {\r\n        num: 4,\r\n        size: 1,\r\n    },\r\n    {\r\n        num: 5,\r\n        size: 2,\r\n    },\r\n    {\r\n        num: 6,\r\n        size: 2,\r\n    },\r\n    {\r\n        num: 7,\r\n        size: 2,\r\n    },\r\n    {\r\n        num: 8,\r\n        size: 3,\r\n    },\r\n    {\r\n        num: 9,\r\n        size: 3,\r\n    },\r\n    {\r\n        num: 10,\r\n        size: 4,\r\n    },\r\n\r\n];","import React from 'react';\nimport Matrix from './Matrix';\n\nexport default class Settings extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            first_page: true,\n            second_page: false,\n        }\n    }\n\n    next = () => {\n        this.props.init_game();\n    }\n    /* next = () => {\n        if(this.state.first_page) this.setState({first_page: false,second_page: true})\n        else {\n            this.setState({first_page: false, second_page: false})\n            this.props.init_game();\n        }\n    } */\n    render = () => {\n        return (\n            <div className=\"settings\" >\n                {this.state.first_page ? (\n                    <div className=\"set-names\">\n                        <h1>Морской бой</h1>\n                        <div className=\"container\">\n                            <div className=\"input-container\">\n                                <label>ВВедите свое имя</label>\n                                <input type=\"text\"\n                                       name=\"human\"\n                                       onChange={this.props.set_names} />\n                            </div>\n                            <div className=\"input-container\">\n                                <label>ВВедите имя противника</label>\n                                <input type=\"text\"\n                                       name=\"computer\"\n                                       onChange={this.props.set_names} />\n                            </div>\n                        </div>\n                        <button className=\"button\" onClick={this.next}>Играть</button>\n                    </div>) : null}\n\n                {this.state.second_page ? (\n                    <div className=\"set-ships\">\n                        <h1>Расстановка кораблей</h1>\n                        <div className=\"container\">\n                            <div className=\"input-container\">\n                                <label htmlFor=\"radio1\">расставить случайно</label>\n                                <input type=\"radio\"\n                                       id=\"radio1\"\n                                       name=\"radio\"\n                                       checked={true}\n                                       onChange={this.props.generate_ships} />\n                            </div>\n                            <div className=\"input-container\">\n                                <label htmlFor=\"radio2\">расставить самому</label>\n                                <input type=\"radio\"\n                                       id=\"radio2\"\n                                       name=\"radio\"\n                                       onChange={this.props.generate_ships}/>\n                            </div>\n                        </div>\n                        <Matrix ships={this.props.ships} />\n                        <button className=\"button\" onClick={this.next}>Играть</button>\n                    </div>) : null}\n            </div>\n        );\n    }\n}","import React from 'react';\nimport './App.css';\nimport Scheme from './components/Scheme';\nimport Matrix from './components/Matrix';\nimport Settings from './components/Settings';\nimport Avatar2 from './img/avatar2.png';\nimport Win from './img/winner.png';\nimport Avatar1 from './img/avatar1.png';\nimport SoundFailed from './sound/3.wav';\nimport SoundWonded from './sound/2.wav';\nimport SoundKilled from './sound/1.wav';\n\nconst message = {\n\tcomputer: 'Мой ход, подождите...',\n\thuman: 'Жду вашего хода...',\n}\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\t\t\thuman: {\n\t\t\t\tname: 'Супергерой',\n\t\t\t\tships: [], // личные корбали\n\t\t\t\tfail_points: [], // промазанные точки\n\t\t\t\thelp_points: [], // вспомогательные точки вокруг потопленных чужых кораблей\n\t\t\t\twonded_ships: [],// раненные корабли(точки) у противника\n\t\t\t\tkilled_ships: [], // потопленные корабли(точки) у противника\n\t\t\t\tlast_point: {}, // последний ход\n\t\t\t\tscore: 0,\n\t\t\t},\n\t\t\tcomputer: {\n\t\t\t\tname: 'Злодей',\n\t\t\t\tships: [], // личные корбали\n\t\t\t\tfail_points: [], // промазанные точки\n\t\t\t\thelp_points: [], // вспомогательные точки вокруг потопленных чужых кораблей\n\t\t\t\twonded_ships: [], // раненные корабли(точки) у противника\n\t\t\t\tkilled_ships: [], // потопленные корабли(точки) у противника\n\t\t\t\tlast_point: {}, // последний ход\n\t\t\t\tscore: 0,\n\t\t\t\ttrash: [], // все старые ходы компьютера\n\t\t\t\tlast_success: [], // последние успешные ходы(точки)\n\t\t\t},\n\t\t\tgame_start: false,\n\t\t\tgame_active: '',\n\t\t\tgame_message: '',\n\t\t\tgame_winner: '',\n\t\t\tgame_sound: true,\n        }\n\t}\n\n\tcomponentDidMount(){\n\t\t// предварительно загружаем звуки\n\t\tthis.soundFailed = new Audio(SoundFailed);\n\t\tthis.soundWonded = new Audio(SoundWonded);\n\t\tthis.soundKilled = new Audio(SoundKilled);\n\n\t\tthis.generateShips();\n\t}\n\t// вспомогательная функция для обновления хранилища\n\tupdateState = (data, player='human') =>{\n\t\tif(player == 'human'){\n\t\t\tthis.setState({\n\t\t\t\thuman: {\n\t\t\t\t\t...this.state.human,\n\t\t\t\t\t...data\n\t\t\t\t}\n\t\t\t})\n\t\t} else{\n\t\t\tthis.setState({\n\t\t\t\tcomputer: {\n\t\t\t\t\t...this.state.computer,\n\t\t\t\t\t...data\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\t//setTimeout(_ =>console.log(player,this.state[player]),2000)\n\t\t//setTimeout(_ =>console.log(player,this.state[player].ships),2000)\n\t}\n\tchangeSound = () =>{\n\t\tif(this.state.game_sound) this.setState({game_sound:false})\n\t\telse this.setState({game_sound:true})\n\t}\n\n    // Получение случайного целого числа в заданном интервале(включая A и B)\n\trandAB =(min,max) =>{\n\t\tmin = Math.ceil(min);\n\t\tmax = Math.floor(max);\n\t\treturn Math.floor(Math.random() * (max - min + 1)) + min; //Максимум и минимум включаются\n\t}\n\t// генерирование местоположения кораблей с учетом правил игры\n\tgenerateShips = (player='human') =>{\n\t\t/* for(let i=1;i<=4;i++){ ships_scheme.push(scheme[0])}\n\t\tfor(let i=1;i<=3;i++){ ships_scheme.push(scheme[1])}\n\t\tfor(let i=1;i<=2;i++){ ships_scheme.push(scheme[2])}\n\t\tships_scheme.push(scheme[3]); */\n\t\tlet ships = [];\n\t\tlet newShip;\n\t\tScheme.forEach(ship =>{\n\t\t\tdo{\n\t\t\t\tnewShip = this.getCoodinatesForShip(ship);\n\t\t\t} while(this.isOverlapShips(newShip,ships))\n\t\t\tships.push(newShip);\n\t\t})\n\t\tthis.updateState({ships},player);\n\t}\n\n\t// получение координат для стартовой точки(слева сверху) нового корабля\n\tgetCoodinatesForShip = (ship) =>{\n\t\t//произвольно выбираем расположение 0-горизонтаельно 1-вертикально\n\t\tlet dir = this.randAB(0,1);\n\t\tlet x, y;\n\t\t// произвольно выбираем координаты\n\t\tlet shipSize = ship.size;\n\t\tif(dir){\n\t\t\tx = this.randAB(0,9);\n\t\t\ty = this.randAB(0,10-shipSize);\n\t\t} else{\n\t\t\tx = this.randAB(0,10-shipSize);\n\t\t\ty = this.randAB(0,9);\n\t\t}\n\t\treturn {\n\t\t\t...ship,\n\t\t\tx, y, // стартовая точка корабля\n\t\t\tdir: dir ? 'down' : 'right'\n\t\t}\n\t}\n\t// проверка, входит ли старотовая точка нового корабля во владения другого корабля\n\tisPointInBorders = (xTest,yTest, ship) =>{\n\t\tlet {x,y,size,dir} = ship;\n\t\tlet left = x-1;\n\t\tlet right = (dir == 'down' ? x+1 : x+size);\n\t\tlet top = y-1;\n        let bottom = (dir == 'down' ? y+size : y+1);\n\t\tif((xTest >= left && xTest <= right &&\n\t\t\tyTest >= top && yTest <= bottom)){\n\t\t\t\treturn true;\n\t\t} else{\n\t\t\treturn false;\n\t\t}\n\t}\n\t// проверка, выполняется ли правило игры, что интервал между кораблями минимум клетка\n\tisOverlapShips = (newShip,ships)=>{\n        if(!ships.length) return false;\n\t\tlet {x,y,size,dir} = newShip;\n\t\treturn ships.some(ship =>{\n\t\t\tif (this.isPointInBorders(x,y,ship)) return true;\n\t\t\telse if(dir == 'down' && this.isPointInBorders(x,y+size-1,ship)) return true;\n\t\t\telse if(dir == 'right' && this.isPointInBorders(x+size-1,y,ship)) return true;\n\t\t\telse return false;\n\t\t})\n\t}\n\t// добавление имен героев в начале игры\n\tsetNames = (event) =>{\n\t\tlet player = event.target.name;\n\t\tlet name = event.target.value;\n\t\tif(player == 'human') {\n\t\t\tname = name ? name : 'Супергерой';\n\t\t\tthis.updateState({name},player);\n\t\t} else{\n\t\t\tname = name ? name : 'Злодей';\n\t\t\tthis.updateState({name},player);\n\t\t}\n\t}\n\t// выбор самому расположения тораблей в начале игры\n\tsetShips = () =>{\n\t}\n\t// инициализация игры\n\tinitGame = () =>{\n\t\t// генерируем корабли для компьютера\n\t\tthis.generateShips('computer');\n\t\t// определяем, кто ходит первый 0-комппьютер, 1-человек,\n\t\tlet player = this.randAB(0,1);\n\t\t//let player = 1;\n\t\tif(player) {\n\t\t\tthis.setState({\n\t\t\t\tgame_start:true,\n\t\t\t\tgame_active:'human',\n\t\t\t\tgame_message: message.human\n\t\t\t})\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tgame_start:true,\n\t\t\t\tgame_active:'computer',\n\t\t\t\tgame_message: message.computer\n\t\t\t})\n\t\t\tsetTimeout(_ =>this.computerPlaying(),2000);\n\t\t}\n\t}\n\tplaying = (player,x,y) =>{\n\t\tlet enemy = (player == 'human' ? 'computer' : 'human');\n\t\t// получаем корабли противника\n\t\tlet ships = this.state[enemy].ships;\n\t\t// получаем свой собственные ошибочные и выйгрышные точки\n\t\tlet {fail_points,help_points,killed_ships,score,wonded_ships,last_success} =\n\t\t\tthis.state[player];\n\t\tlet last_point = {x,y}; let wonded;\n\t\tlet result = ships.some(ship =>{\n\t\t\t// если удар попал по чужому кораблю\n\t\t\tif(this.isPointInShips(x,y,ship)){\n\t\t\t\tlet wonded_num = this.getWondedShipNum(player,ship.num);\n\t\t\t\t// если это первая палуба раненного корабля\n\t\t\t\tif(wonded_num == 100){\n\t\t\t\t\twonded_ships.push({\n\t\t\t\t\t\tnum: ship.num,\n\t\t\t\t\t\tship_part: [{x,y}]\n\t\t\t\t\t})\n\t\t\t\t\twonded = [{x,y}];\n\t\t\t\t} else{\n\t\t\t\t\twonded_ships[wonded_num].ship_part.push({x,y});\n\t\t\t\t\twonded = wonded_ships[wonded_num].ship_part;\n\t\t\t\t}\n\t\t\t\t// если это последняя потопленная палуба чужого корабля\n\t\t\t\tif(wonded.length == ship.size){\n\t\t\t\t\tscore++;\n\t\t\t\t\tkilled_ships.push(wonded);\n\t\t\t\t\twonded.forEach(cell =>{\n\t\t\t\t\t\tlet help = this.getHelpPoints(ship);\n\t\t\t\t\t\thelp_points.push(...help)\n\t\t\t\t\t\thelp_points = help_points.filter(e => e.x >= 0 && e.x <=9 && e.y >= 0 && e.y <=9);\n\t\t\t\t\t})\n\t\t\t\t\twonded_ships.splice(wonded_num,1);\n\t\t\t\t\tthis.updateState({wonded_ships,killed_ships,help_points,last_point,score},player)\n\t\t\t\t\tif(this.state.game_sound) this.soundKilled.play();\n\t\t\t\t\tif(score == 10) {\n\t\t\t\t\t\tsetTimeout(_ => this.setState({game_winner: player}),3000)\n\t\t\t\t\t}\n\t\t\t\t\telse if (enemy == 'human') {\n\t\t\t\t\t\tthis.updateState({last_success:[]},player)\n\t\t\t\t\t\tsetTimeout(_ => this.computerPlaying(),2000);\n\t\t\t\t\t}\n\t\t\t\t} else{\n\t\t\t\t\t// добавляем вспомогательные точки вокруг ранненого корабля\n\t\t\t\t\thelp_points.push({x:x-1,y:y-1},{x:x+1,y:y+1},{x:x-1,y:y+1},{x:x+1,y:y-1});\n\t\t\t\t\thelp_points = help_points.filter(e => e.x >= 0 && e.x <=9 && e.y >= 0 && e.y <=9);\n\t\t\t\t\tthis.updateState({wonded_ships,help_points,last_point},player)\n\t\t\t\t\tif(this.state.game_sound) this.soundWonded.play();\n\t\t\t\t\tif(enemy == 'human') {\n\t\t\t\t\t\tlast_success.push(last_point);\n\t\t\t\t\t\tthis.updateState({last_success},player)\n\t\t\t\t\t\tsetTimeout(_ => this.computerPlaying(),2000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\t\t// если удар по противнику пришелся мимо\n\t\tif(!result){\n\t\t\tfail_points.push({x,y})\n\t\t\tthis.updateState({fail_points,last_point},player);\n\t\t\tthis.setState({game_message:message[enemy],game_active:enemy})\n\t\t\tif(this.state.game_sound) this.soundFailed.play();\n\t\t\tif(enemy == 'computer') {\n\t\t\t\tsetTimeout(_ => this.computerPlaying(),2000);\n\t\t\t}\n\t\t}\n\t}\n\t// получение вспомогательных точек вокруг потопленного корабля(чтоб исключить)\n\tgetHelpPoints = (ship) =>{\n\t\tlet {x,y,dir,size} = ship;\n\t\tlet ship_mass = []; let help_points = [];\n\t\t// корабль цельный, получаем из него массив точек, чтобы вокруг них\n\t\t// добавить вспомогательные точки\n\t\tif(dir == 'right'){\n\t\t\tfor(let i=0; i<size; i++){\n\t\t\t\tship_mass.push({x,y});\n\t\t\t\tx++;\n\t\t\t}\n\t\t} else{\n\t\t\tfor(let i=0; i<size; i++){\n\t\t\t\tship_mass.push({x,y});\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t\tship_mass.forEach(({x,y}) =>{\n\t\t\thelp_points.push(\n\t\t\t\t{x:x-1,y:y-1},\n\t\t\t\t{x:x+1,y:y+1},\n\t\t\t\t{x,y:y-1},\n\t\t\t\t{x,y:y+1},\n\t\t\t\t{x:x-1,y},\n\t\t\t\t{x:x+1,y},\n\t\t\t\t{x:x-1,y:y+1},\n\t\t\t\t{x:x+1,y:y-1},\n\t\t\t)\n\t\t})\n\t\t// удаляем дубликаты\n\t\tlet uniq = new Set(help_points.map(e => JSON.stringify(e)));\n\t\treturn Array.from(uniq).map(e => JSON.parse(e));\n\t}\n\n\n\t// ход человека\n\thumanPlaying = (event) =>{\n\t\tif(this.state.game_active == 'computer') {\n\t\t\tthis.setState(); return;\n\t\t}\n\t\tlet x = Number(event.target.getAttribute('data-x'))\n\t\tlet y = Number(event.target.getAttribute('data-y'))\n\t\tthis.playing('human',x,y)\n\t}\n\n\tcheckPoint = (x,y) =>{\n\t\tlet {trash,help_points} = this.state.computer;\n\t\ttrash.push(...help_points);\n\t\tthis.updateState({trash},'computer')\n\t\tconsole.log('проверялась точка',x,y)\n\t\tif(x < 0 || x > 9 || y < 0 || y > 9) return false;\n\t\treturn !trash.some(point =>{\n\t\t\tif (x == point.x && y == point.y) return true;\n\t\t\telse return false;\n\t\t})\n\t}\n\t// ход компьютера\n\tcomputerPlaying = () =>{\n\t\tlet {trash,last_success} = this.state.computer;\n\t\tlet x,y;\n\t\tdo{\n\t\t\t// ход в начале игры\n\t\t\t// ход после того, как потопил чужой корабль\n\t\t\t// ход от промазанной точки к новой промазанной\n\t\t\tif(!last_success.length){\n\t\t\t\tx = this.randAB(0,9);\n\t\t\t\ty = this.randAB(0,9);\n\t\t\t\t// ранена первая палуба чужого корабля\n\t\t\t\t// промазал после ранения чужого корабля\n\t\t\t} else if(last_success.length == 1){\n\t\t\t\t// если повторный ход, то есть 4 пути, куда двигаться\n\t\t\t\tx = last_success[0].x;\n\t\t\t\ty = last_success[0].y;\n\t\t\t\tlet random = this.randAB(1,4)\n\t\t\t\tif (random == 1) y--;\n\t\t\t\tif (random == 2) y++;\n\t\t\t\tif (random == 3) x--;\n\t\t\t\tif (random == 4) x++;\n\t\t\t\t// ранено больше 2х палуб многопалубного чужого корабля\n\t\t\t} else if(last_success.length > 1){\n\t\t\t\t// нужно двигаться по вертикали если 2 точки в ряд у нас уже есть\n\t\t\t\tif(last_success[0].x == last_success[1].x){\n\t\t\t\t\tx = last_success[0].x;\n\t\t\t\t\tlet randomPoint = this.randAB(0,last_success.length-1);\n\t\t\t\t\tlet randomDel = this.randAB(0,1);\n\t\t\t\t\trandomDel = randomDel ? 1 : -1;\n\t\t\t\t\ty = last_success[randomPoint].y+randomDel;\n\t\t\t\t} else{\n\t\t\t\t\ty = last_success[0].y;\n\t\t\t\t\tlet randomPoint = this.randAB(0,last_success.length-1);\n\t\t\t\t\tlet randomDel = this.randAB(0,1);\n\t\t\t\t\trandomDel = randomDel ? 1 : -1;\n\t\t\t\t\tx = last_success[randomPoint].x+randomDel;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log('НЕПРЕДВИДЕННАЯ СИТУАЦИЯ!!!!!',last_success)\n\t\t\t}\n\t\t} while(!this.checkPoint(x,y));\n\t\tconsole.log('очередная точка, прошедшая отбор',x,y)\n\t\ttrash.push({x,y});\n\t\tthis.updateState({trash},'computer');\n\t\tthis.playing('computer',x,y)\n\t}\n\n\t// проверка, что удар пришелся по кораблю\n\tisPointInShips = (xTest,yTest,ship) =>{\n\t\tlet left,right,top,bottom;\n\t\tlet {x,y,size,dir} = ship;\n\t\tif(dir =='down'){\n\t\t\tleft = x;\n\t\t\tright = x;\n\t\t\ttop = y;\n\t\t\tbottom = y+size-1;\n\t\t} else{\n\t\t\tleft = x;\n\t\t\tright = x+size-1;\n\t\t\ttop = y;\n\t\t\tbottom = y;\n\t\t}\n\t\tif((xTest >= left && xTest <= right &&\n\t\t\tyTest >= top && yTest <= bottom)){\n\t\t\t\treturn true;\n\t\t} else{\n\t\t\treturn false;\n\t\t}\n\t}\n\tgetWondedShipNum = (player,shipNum) =>{\n\t\tlet wondedNum = 100;\n\t\tlet wonded_ships = this.state[player].wonded_ships;\n\t\twonded_ships.some((ship,i) =>{\n\t\t\tif(ship.num == shipNum){\n\t\t\t\twondedNum = i;\n\t\t\t\treturn true;\n\t\t\t} else return false;\n\t\t})\n\t\treturn wondedNum;\n\t}\n\n    render() {\n\t\tlet state= this.state;\n\t\tlet human = this.state.human;\n\t\tlet computer = this.state.computer;\n        return (\n\t\t\t<div>\n\t\t\t\t{!state.game_start ? (\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<Settings\n\t\t\t\t\t\t\tset_names={this.setNames}\n\t\t\t\t\t\t\tset_ships={this.setShips}\n\t\t\t\t\t\t\tplayer={human.ships}\n\t\t\t\t\t\t\tgenerate_ships={this.generateShips}\n\t\t\t\t\t\t\tinit_game={this.initGame}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>) : null}\n\t\t\t\t{state.game_winner ? (\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<div className=\"game_winner\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<a href=\"https://www.freepng.ru/png-y1ytxq/\">\n\t\t\t\t\t\t\t\t\t<img class=\"winner\" src={Win} />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{state.game_winner == 'human' ?\n\t\t\t\t\t\t\t\t('Вы победили! Ура! :)') :\n\t\t\t\t\t\t\t\t('Вы проиграли :(')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>) : null}\n\t\t\t\t<div className=\"game-container\">\n\t\t\t\t\t<header className=\"header\">\n\t\t\t\t\t\t<div>Морской бой</div>\n\t\t\t\t\t\t<div className=\"sound-bar\" onClick={this.changeSound}>{'звук: '+(state.game_sound ? 'есть': 'нет')}</div>\n\t\t\t\t\t\t\t<div class=\"score-bar\">\n\t\t\t\t\t\t\t{'счет: '+state.computer.score+' : '+state.human.score}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type=\"text\" className=\"message-bar\" value={state.game_message} readOnly />\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<div className=\"left-content\">\n\t\t\t\t\t\t\t\t{state.game_active == 'human' ?\n\t\t\t\t\t\t\t\t\t(<div className=\"left-mask\"></div>) : null}\n\t\t\t\t\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t\t\t\t\t<a href='https://pngtree.com/so/avatar' target=\"_blank\"><img className=\"avatar-img\" src={Avatar1} /></a>\n\t\t\t\t\t\t\t\t\t<div className=\"avatar-text\">{human.name + ' (ваше поле)'}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Matrix\n\t\t\t\t\t\t\t\t\tships={state.human.ships}\n\t\t\t\t\t\t\t\t\tplayer={computer}\n\t\t\t\t\t\t\t\t\tclick_handler={null}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"right-content\">\n\t\t\t\t\t\t\t\t{state.game_active == 'computer' ?\n\t\t\t\t\t\t\t\t \t(<div className=\"right-mask\"></div>) : null}\n\t\t\t\t\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t\t\t\t\t<a href='https://pngtree.com/so/avatar' target=\"_blank\"><img className=\"avatar-img\" src={Avatar2} /></a>\n\t\t\t\t\t\t\t\t\t<div className=\"avatar-text\">{computer.name + ' (поле противника)'} </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Matrix\n\t\t\t\t\t\t\t\t\t//ships={state.computer.ships}\n\t\t\t\t\t\t\t\t\tships={[]}\n\t\t\t\t\t\t\t\t\tplayer={human}\n\t\t\t\t\t\t\t\t\tclick_handler={this.humanPlaying}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n        );\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}